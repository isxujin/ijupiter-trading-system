# iJupiter 证券交易系统架构文档

## 目录

1. [系统概述](#系统概述)
2. [技术栈](#技术栈)
3. [模块架构](#模块架构)
4. [设计原则](#设计原则)
5. [交互流程](#交互流程)
6. [部署架构](#部署架构)

## 系统概述

iJupiter证券交易系统是一个基于事件引擎架构的证券交易平台，支持证券、基金、期货等多种金融产品的交易业务。系统采用现代化的微服务架构，遵循DDD（领域驱动设计）和CQRS（命令查询责任分离）模式，使用Spring Boot 3.5.8和Axon Framework 4.12.2构建，具备高可扩展性、高性能和高可用性特点。

系统以事件驱动为核心，通过领域事件解耦各业务模块，实现异步处理和数据最终一致性。

## 技术栈

### 核心技术栈

| 技术 | 版本 | 用途 |
|------|------|------|
| Java | 17 | 编程语言 |
| Spring Boot | 3.5.8 | 应用框架 |
| Axon Framework | 4.12.2 | 事件驱动架构框架 |
| MySQL | 9.5.0 | 主数据存储 |
| Redis | 7 | 缓存与会话存储 |
| RabbitMQ | 5.20.0 | 消息队列 |
| Spring Security | 6.5.7 | 安全框架 |
| Thymeleaf | 3.2.6.RELEASE | 服务端模板引擎 |
| Jakarta Persistence | 3.1.0 | JPA API |
| Lombok | 1.18.42 | 代码简化工具 |
| Hutool | 5.8.42 | Java工具库 |
| WebJars | 多种版本 | 前端资源管理 |

### 编码与构建

- **编码**: UTF-8（全局统一）
- **构建工具**: Maven Wrapper 3.9.5 (无需本地安装Maven)
- **包管理**: Maven 多模块项目
- **Java版本**: 17
- **编译器插件**: Maven Compiler Plugin 3.11.0
- **编码转换**: 提供convert-to-utf8.sh脚本处理编码问题

## 模块架构

### 整体架构

```
ijupiter-trading-system (父模块)
├── .mvn                           # Maven Wrapper配置
│   └── wrapper                   # Wrapper脚本和配置
├── securities-trading-boms            # 依赖版本统一管理
├── securities-trading-common           # 公共工具和基础组件
├── securities-trading-api              # API接口定义层
│   ├── business-api                 # 业务API
│   │   ├── customer-api           # 客户管理API
│   │   ├── funding-api            # 资金API
│   │   ├── securities-api         # 证券API
│   │   ├── settlement-api         # 清/结算API
│   │   ├── trading-engine-api     # 交易撮合API
│   │   ├── query-api              # 通用查询API
│   │   └── system-api             # 系统管理API
│   └── middleware-spi              # 中间件SPI（服务提供者接口）
│       ├── message-adapter-spi     # 消息适配器SPI
│       └── cache-adapter-spi      # 缓存适配器SPI
├── securities-trading-core            # 核心业务实现层
│   ├── customer-core               # 客户管理核心服务
│   ├── funding-core                # 资金核心服务
│   ├── securities-core             # 证券核心服务
│   ├── settlement-core             # 清/结算核心服务
│   ├── trading-engine-core         # 交易撮合核心服务
│   ├── query-core                  # 通用查询核心服务
│   └── system-core                 # 系统管理核心服务
├── securities-trading-middleware      # 中间件适配器层
│   ├── rabbitmq-adapter            # RabbitMQ消息适配器
│   └── redis-adapter             # Redis缓存适配器
├── securities-trading-web             # Web表示层
│   ├── common-web                 # 公共Web模块，提供视图层框架资源和控制层公共资源
│   ├── customer-web               # 客户管理Web模块
│   ├── funding-web                # 资金Web模块
│   ├── securities-web             # 证券Web模块
│   ├── settlement-web             # 清/结算Web模块
│   ├── trading-engine-web         # 交易撮合Web模块
│   ├── query-web                  # 通用查询Web模块
│   └── system-web                 # 系统管理Web模块
├── securities-trading-boots            # 应用启动层
│   ├── service-boot-allinone     # 服务单体启动器
│   ├── web-boot-investment       # 投资者Web启动器
│   └── web-boot-management       # 管理员Web启动器
├── mvnw / mvnw.cmd / mvnw.sh       # Maven Wrapper脚本
├── init-trading-system.sh          # 项目初始化脚本
├── verify-mvnw.sh                 # Maven Wrapper验证脚本
├── convert-to-utf8.sh             # 编码转换脚本
└── MAVEN_WRAPPER.md               # Maven Wrapper使用指南
```

### 模块详细说明

#### 1. securities-trading-boms
- **职责**: 统一管理所有模块的依赖版本
- **核心组件**: Maven BOM文件
- **特点**: 版本一致性、依赖传递控制

#### 2. securities-trading-common
- **职责**: 提供公共工具类、常量和基础组件
- **核心组件**: 
  - 通用工具类
  - 常量定义
  - 基础异常类
  - 通用枚举
- **特点**: 可复用、轻量级

#### 3. securities-trading-api
- **职责**: 定义系统各模块间的接口契约
- **子模块**:
  - **business-api**: 业务领域API，包括客户管理、资金、证券、清/结算、交易撮合、通用查询、系统管理等API
  - **customer-api**: 客户管理API，提供客户、客户资金账户、客户证券账户等接口 - **已实现**
  - **funding-api**: 资金API，提供资金余额、资金变动流水、交易所信息等接口 - **已实现**
  - **securities-api**: 证券API，提供证券持仓、持仓变动流水、银行信息等接口 - **已实现**
  - **settlement-api**: 清/结算API，提供日清/结算相关功能接口 - **API已设计**
  - **trading-engine-api**: 交易撮合API，提供日间证券标的交易/撮合相关功能接口 - **API已设计**
  - **query-api**: 通用查询API，提供所有上述模块的查询能力接口 - **已实现**
  - **system-api**: 系统管理API，提供系统操作员、角色、权限、数据字典等接口 - **已实现**
    - UserDTO、RoleDTO、PermissionDTO、DictionaryDTO等
    - UserService、RoleService、PermissionService等接口
  - **middleware-spi**: 中间件SPI（服务提供者接口），定义中间件实现的标准接口
  - **message-adapter-spi**: 消息适配器SPI，定义消息服务的标准接口 - **已实现**
  - **cache-adapter-spi**: 缓存适配器SPI，定义缓存服务的标准接口 - **已实现**

#### 4. securities-trading-core
- **职责**: 实现核心业务逻辑和事件处理
- **子模块**:
  - **customer-core**: 客户管理核心，采用DDD和CQRS架构，处理客户信息、客户资金账户、客户证券账户等 - **已实现**
    - 客户账户拆分设计：交易账户拆分为基本信息和持仓，资金账户拆分为基本信息和余额
    - 聚合根：客户聚合根及事件处理
    - 实体层：客户、客户资金账户基本信息、客户资金账户余额、客户证券账户基本信息、客户证券账户持仓等实体
    - 命令处理器和事件处理器：客户创建、更新、冻结等操作的处理器
    - 仓储层：各实体的Repository接口
    - 领域服务层：客户管理相关服务
  - **funding-core**: 资金管理核心，采用DDD和CQRS架构，处理客户资金余额、资金变动流水、交易所信息、证券产品标的、证券交易日历等 - **已实现**
    - 聚合根：资金账户聚合根及事件处理
    - 实体层：资金账户、资金台账、资金交易记录等实体
    - 命令处理器和事件处理器：资金账户创建、转账、冻结等操作的处理器
    - 仓储层：各实体的Repository接口
    - 领域服务层：资金管理相关服务
  - **securities-core**: 证券管理核心，采用DDD和CQRS架构，处理客户证券持仓、持仓变动流水、银行信息等 - **已实现**
    - 聚合根：证券账户聚合根及事件处理
    - 实体层：证券账户、证券持仓、证券交易记录等实体
    - 命令处理器和事件处理器：证券账户创建、转账等操作的处理器
    - 仓储层：各实体的Repository接口
    - 领域服务层：证券管理相关服务
  - **settlement-core**: 清/结算核心，处理日清/结算相关功能 - **API已设计**
    - 实体层：结算记录、结算流水等实体
    - 仓储层：各实体的Repository接口
    - 服务层：清/结算相关Service实现
  - **trading-engine-core**: 交易撮合核心，处理日间证券标的交易/撮合相关功能 - **API已设计**
    - 实体层：交易订单、成交记录等实体
    - 仓储层：各实体的Repository接口
    - 服务层：交易撮合相关Service实现
  - **query-core**: 通用查询核心，采用查询与事件分离架构，处理所有模块的查询请求 - **已实现**
    - 查询处理器：客户综合信息、交易流水、资金流水、持仓等查询处理器
    - 实体映射器：用于查询结果与DTO之间的转换
    - 查询配置：Axon查询相关配置
  - **system-core**: 系统管理核心，采用传统MVC架构，处理系统操作员、角色、权限、数据字典、系统参数等，为管理终端提供标准的CRUD服务 - **已实现**
    - **实体层**: 操作员、角色、权限、数据字典、系统参数等实体定义
    - **仓储层**: 各实体的Repository接口
    - **服务层**: 各实体对应的Service实现
    - **控制器层**: 提供标准的CRUD接口

#### 5. securities-trading-middleware
- **职责**: 提供中间件技术适配器
- **子模块**:
  - **rabbitmq-adapter**: RabbitMQ消息适配器，处理异步消息 - **已实现**
  - **redis-adapter**: Redis缓存适配器，处理缓存和会话 - **已实现**

#### 6. securities-trading-web
- **职责**: 提供Web界面和API入口
- **子模块**:
  - **common-web**: 公共Web模块，提供视图层框架资源和控制层公共资源，包括：
    - Spring MVC和Thymeleaf配置
    - WebJars资源管理（Bootstrap 5.3.8和jQuery 3.7.1）
    - 基础控制器类和统一API响应格式（Result和PageResult）
    - 统一的页面模板结构
    - 包结构调整：控制器包名从/controller调整为/controllers，模型包名从/dto调整为/models
  - **system-web**: 系统管理Web模块，提供系统设置界面，继承common-web的公共资源 - **已实现**
  - **query-web**: 通用查询Web模块，提供客户综合信息、交易流水、资金流水等查询功能，继承common-web的公共资源 - **已实现**
    - **customer-web**: 客户管理Web模块，提供客户管理界面，继承common-web的公共资源 - 待实现
  - **funding-web**: 资金Web模块，提供资金管理界面，继承common-web的公共资源 - 待实现
  - **securities-web**: 证券Web模块，提供证券管理界面，继承common-web的公共资源 - 待实现
  - **settlement-web**: 清/结算Web模块，提供清/结算管理界面，继承common-web的公共资源 - 待实现
  - **trading-engine-web**: 交易撮合Web模块，提供交易撮合管理界面，继承common-web的公共资源 - 待实现

#### 7. securities-trading-boots
- **职责**: 提供不同场景的应用启动入口
- **子模块**:
  - **service-boot-allinone**: 服务单体启动器，包含所有核心服务模块 - **已实现**
  - **web-boot-management**: 管理员Web启动器，面向管理员域的管理终端 - **已实现**
  - **web-boot-investment**: 投资者Web启动器，面向证券投资者域的客户端 - **已实现**
  - **query-boot**: 查询服务启动器，提供专用的查询服务接口 - **已实现**
- **特点**: 支持按业务域分离启动，方便不同角色使用

## 设计原则

### 1. 领域驱动设计（DDD）
- 系统按照业务领域划分模块
- 每个核心模块对应一个业务领域
- 明确的领域边界和上下文映射

### 2. 命令查询责任分离（CQRS）
- 命令（写操作）和查询（读操作）分离
- 针对不同的操作模型进行优化
- 支持独立的扩展和部署

### 3. 事件驱动架构
- 使用Axon Framework实现事件驱动
- 业务操作产生领域事件
- 事件触发下游系统的异步处理

### 4. 微服务架构
- 系统按业务垂直拆分
- 每个服务独立部署和扩展
- 通过API和事件进行服务间通信

### 5. Web公共模块设计
- **common-web**: 作为Web层的公共基础模块，采用面向对象设计和继承机制
  - 提供统一的视图层框架（Spring MVC和Thymeleaf）
  - 集成WebJars管理前端资源（Bootstrap和jQuery）
  - 定义基础控制器类和统一API响应格式
  - 实现页面模板继承和组件复用
  - 支持模块化扩展，各Web模块可继承和扩展公共功能
- **继承设计**: management-web、investor-web和system-web继承common-web，避免代码重复
- **资源统一**: 所有前端资源通过WebJars统一管理，确保版本一致性

### 6. 客户管理模块设计
- **customer-core**: 客户管理核心模块，采用DDD分层架构
  - **聚合设计**: 客户聚合、交易账户聚合、资金账户聚合
  - **实体拆分**: 
    - 交易账户拆分为基本信息和持仓两部分
    - 资金账户拆分为基本信息和余额两部分
  - **信息合并**: 
    - 银行卡信息合并到资金账户基本信息
    - 交易所账号信息合并到交易账户基本信息
  - **仓储层**: 各实体对应的Repository接口
  - **服务层**: 实现客户管理相关的业务逻辑
  - **事件驱动**: 使用Axon Framework实现事件溯源和命令处理
- **customer-web**: 客户管理Web模块，继承common-web的公共资源
  - 提供完整的客户管理界面
  - 支持客户信息管理、交易账户管理、资金账户管理等功能
- **数据模型设计**: 
  - DTO与Entity分离：DTO不包含系统字段（createTime、updateTime、version），仅在Entity中保留
  - 业务时间字段：使用openDate、closeDate等业务字段替代系统时间字段

### 7. 系统管理模块设计
- **system-core**: 系统管理核心模块，采用MVC分层架构
  - **实体层**: 操作员、角色、权限、数据字典、系统配置等实体
  - **仓储层**: 提供JPA Repository接口和实现，支持复杂查询和分页
  - **服务层**: 实现操作员、角色、权限、数据字典、系统配置的业务逻辑
  - **事务管理**: 使用Spring事务注解确保数据一致性
- **system-web**: 系统管理Web模块，继承common-web的公共资源
  - 提供完整的系统设置界面
  - 支持操作员管理、角色权限管理、数据字典管理等功能

### 8. 数据模型设计规范
- **系统字段与业务字段分离**:
  - createTime、updateTime和version这三个字段只表示数据库记录的新增时间、修改时间、记录乐观锁
  - 这三个字段不包含其他业务含义，仅在Entity中保留
  - 业务上有开户时间、销户时间等属性时，使用openDate、closeDate表示

- **主键与业务标识分离**:
  - 系统所有实体表都包含id主键属性，该属性无业务含义
  - 如果业务实体需要一个具备业务含义的唯一标识，使用以code（编码/编号）为后缀的属性命名
  - 例如：customerCode、accountCode、productCode等

- **继承体系设计**:
  - 系统数据实体对象单根继承自BaseEntity
  - 系统数据传输对象单根继承自BaseDTO
  - 系统服务接口单根继承自BaseService接口
  - BaseEntity定义了公共方法convertFrom用于从其他类型对象复制属性到Entity对象
  - BaseDTO定义了公共方法convertFrom用于从其他类型对象复制属性到DTO对象

### 9. Maven Wrapper集成
- 统一构建环境，确保所有开发者使用相同的Maven版本
- 自动下载Maven 3.9.5，无需本地安装Maven
- 提供验证和初始化脚本，简化环境设置
- 支持跨平台构建（Windows、Linux、macOS）
- Spring Cloud集成：已集成Spring Cloud 2023.0.5，支持Feign客户端

## 业务领域划分

### 证券投资者域
证券投资者域包含以下核心功能模块：

#### 1. 客户管理模块 (customer)
- **核心职责**: 客户信息维护、客户资金账户维护、客户证券账户维护
- **主要功能**:
  - 客户信息注册与维护
  - 客户资金账户管理
  - 客户证券账户管理
  - 客户状态管理
- **技术特点**: 采用事件驱动架构，支持客户信息的变更追踪

#### 2. 资金模块 (funding)
- **核心职责**: 客户资金余额维护、客户资金变动流水维护、证券交易所信息维护、证券产品标的维护、证券交易日历维护
- **主要功能**:
  - 客户资金余额管理
  - 资金变动流水记录
  - 证券交易所信息管理
  - 证券产品标的管理
  - 证券交易日历管理
- **技术特点**: 采用事件驱动架构，保证资金变动的一致性

#### 3. 证券模块 (securities)
- **核心职责**: 客户证券持仓维护、客户持仓变动流水维护、银行信息维护
- **主要功能**:
  - 客户证券持仓管理
  - 持仓变动流水记录
  - 银行信息管理
- **技术特点**: 采用事件驱动架构，支持持仓变更的实时追踪

#### 4. 清/结算模块 (settlement)
- **核心职责**: 日清/结算相关功能
- **主要功能**:
  - 日清/结算处理
  - 结算风险管理
  - 结算对账功能
- **技术特点**: 采用事件驱动架构，支持结算过程的自动化

#### 5. 交易撮合模块 (trading-engine)
- **核心职责**: 日间证券标的交易/撮合相关功能
- **主要功能**:
  - 交易订单处理
  - 撮合引擎
  - 成交确认机制
  - 交易风控检查
- **技术特点**: 高性能事件驱动架构，支持高频交易场景

#### 6. 通用查询模块 (query)
- **核心职责**: 承接所有上述模块为客户端提供的查询能力
- **主要功能**:
  - 统一查询接口
  - 复杂查询处理
  - 报表生成
- **技术特点**: 采用查询与事件分离架构(CQRS)，优化查询性能

### 管理员域
管理员域包含以下核心功能模块：

#### 1. 系统管理模块 (system)
- **核心职责**: 系统操作员维护、系统角色维护、系统权限维护、系统数据字典维护、系统参数维护
- **主要功能**:
  - 系统操作员管理
  - 角色权限管理
  - 数据字典管理
  - 系统参数配置
  - 系统监控与日志管理
- **技术特点**: 采用传统MVC架构，为管理终端提供标准的CRUD服务

## 交互流程

### 客户管理流程

```
1. 操作员通过customer-web界面登录系统
   ↓
2. 操作员管理客户信息、客户资金账户、客户证券账户等
   ↓
3. 调用customer-core服务执行客户管理操作
   ↓
4. 产生客户相关领域事件
   ↓
5. 事件处理器处理事件，更新相关数据
   ↓
6. 通过common-web提供的公共界面展示操作结果
```

### 资金管理流程

```
1. 操作员或系统触发资金操作
   ↓
2. 调用funding-core服务执行资金管理操作
   ↓
3. 产生资金变动相关领域事件
   ↓
4. 事件处理器处理事件，更新资金余额和流水
   ↓
5. 结果通过查询API返回
```

### 证券管理流程

```
1. 客户证券持仓变更触发
   ↓
2. 调用securities-core服务处理持仓变更
   ↓
3. 产生持仓变动相关领域事件
   ↓
4. 事件处理器处理事件，更新持仓信息
   ↓
5. 结果通过查询API返回
```

### 交易撮合流程

```
1. 客户提交交易委托
   ↓
2. trading-engine-core接收委托，验证参数
   ↓
3. 执行撮合逻辑，生成成交记录
   ↓
4. 产生交易相关领域事件
   ↓
5. 事件处理器处理事件，更新相关账户和持仓
   ↓
6. 结果通过查询API返回给客户端
```

### 清/结算流程

```
1. 交易日结束触发结算流程
   ↓
2. settlement-core订阅交易事件，开始结算处理
   ↓
3. 执行结算计算和资金交收
   ↓
4. 产生结算完成事件
   ↓
5. 资金模块和证券模块订阅事件，更新相关数据
   ↓
6. 结果通过查询API返回
```

### 系统管理流程

```
1. 系统管理员通过system-web界面登录系统
   ↓
2. 管理员管理系统操作员、角色权限等
   ↓
3. 调用system-core服务执行系统管理操作
   ↓
4. 操作结果持久化到数据库
   ↓
5. 通过common-web提供的公共界面展示操作结果
```

## 部署架构

### 开发环境
```
┌─────────────────────────────────────────────┐
│                  开发环境                     │
├─────────────────────────────────────────────┤
│  Web Boot (Spring Boot 3.2.5)            │
│  ┌─────────────┐  ┌─────────────┐      │
│  │ 管理端Web │  │ 投资者端Web │      │
│  └─────────────┘  └─────────────┘      │
│          │                    │             │
│          └──────────┬───────────┘             │
│                     ▼                         │
│         ┌─────────────────┐                 │
│         │ Service Boot    │                 │
│         │ (核心服务)      │                 │
│         └─────────────────┘                 │
│            │        │        │               │
│            ▼        ▼        ▼               │
│  ┌──────────┬ ───────────┬ ───────────┐ │
│  │ 账户服务 │ │ 资金服务 │ │ 交易服务 │ │
│  └──────────┘ └──────────┘ └──────────┘ │
│      │            │            │          │
│      ▼            ▼            ▼          │
│  ┌──────────────────┬──────────────────┐ │
│  │ MySQL          │ Redis             │ │
│  │ (主数据)        │ (缓存)            │ │
│  └──────────────────┴──────────────────┘ │
│           │                         │
│           ▼                         │
│     ┌─────────────────┐              │
│     │ RabbitMQ       │              │
│     │ (事件总线)      │              │
│     └─────────────────┘              │
└─────────────────────────────────────────────┘
```

### 生产环境
```
┌─────────────────────────────────────────────────────────────────┐
│                          生产环境                             │
├─────────────────────────────────────────────────────────────────┤
│   Web服务 (多实例)                                   │
│   ┌───────────────┐  ┌───────────────┐      │
│   │ 管理端Web     │  │ 投资者端Web     │      │
│   │ (负载均衡)     │  │ (负载均衡)     │      │
│   └───────────────┘  └───────────────┘      │
│          │                     │             │
│          └──────────┬───────────┘             │
│                     ▼                         │
│   ┌─────────────────────────┐                 │
│   │ Service集群            │                 │
│   │ (微服务实例)            │                 │
│   └─────────────────────────┘                 │
│      │         │        │         │               │
│      ▼         ▼        ▼         │               │
│  ┌──────────┬─┬──────────┬─┬──────────┐ │
│  │ 账户服务 │ │ 资金服务 │ │ 交易服务 │ │ 结算服务 │ │
│  │ (集群)   │ │ (集群)   │ │ (集群)   │ │ (集群)   │ │
│  └──────────┘─┴──────────┘─┴──────────┘ │
│      │            │           │          │         │
│      ▼            ▼           ▼          │         │
│  ┌──────────────────┬──────────────────┐ │
│  │ MySQL集群        │ Redis集群             │ │
│  │ (主数据)         │ (缓存)               │ │
│  └──────────────────┴──────────────────┘ │
│           │                            │          │
│           ▼                            │          │
│     ┌───────────────────────┐            │
│     │ RabbitMQ集群         │            │
│     │ (事件总线)            │            │
│     └───────────────────────┘            │
└─────────────────────────────────────────────────────────┘
```

## 性能考虑

### 1. 数据库优化
- 读写分离
- 分库分表策略
- 索引优化
- HikariCP连接池管理
- 事务控制：使用Spring事务管理确保数据一致性

### 2. 缓存策略
- 多级缓存（本地缓存 + Redis）
- 缓存预热
- 缓存一致性保证

### 3. 消息队列
- 异步处理提高响应速度
- 批量处理提高吞吐量
- 消息持久化保证可靠性

### 4. 服务扩展
- 水平扩展支持
- 无状态服务设计
- 负载均衡

## 安全考虑

### 1. 认证授权
- Spring Security框架
- JWT令牌机制
- 角色权限控制

### 2. 数据安全
- 敏感数据加密
- 操作日志记录
- 数据脱敏展示

### 3. 通信安全
- HTTPS传输加密
- API签名验证
- 防重放攻击

## 监控与运维

### 1. 应用监控
- Spring Boot Actuator
- Prometheus指标收集
- 日志聚合分析

### 2. 业务监控
- 交易成功率
- 系统响应时间
- 异常处理统计

### 3. 运维自动化
- 健康检查
- 自动故障恢复
- 服务降级策略

## 项目工具与脚本

### 1. Maven Wrapper
- **mvnw / mvnw.cmd / mvnw.sh**: 跨平台Maven Wrapper脚本
- **.mvn/wrapper/**: Maven Wrapper配置和下载器
- **特点**: 自动下载Maven 3.9.5，确保构建一致性

### 2. 辅助脚本
- **init-trading-system.sh**: 项目初始化脚本，验证环境并编译项目
- **verify-mvnw.sh**: 验证Maven Wrapper设置
- **convert-to-utf8.sh**: 转换配置文件编码为UTF-8

### 3. 文档
- **MAVEN_WRAPPER.md**: Maven Wrapper详细使用指南
- **README.md**: 项目总体介绍和快速入门指南
- **ARCHITECTURE.md**: 系统架构详细说明

## 项目实现状态

### ✅ 已实现模块

1. **securities-trading-boms** - 依赖版本统一管理
2. **securities-trading-common** - 公共基础组件
3. **securities-trading-middleware** - 中间件适配器层
   - redis-adapter: Redis缓存适配器
   - rabbitmq-adapter: RabbitMQ消息适配器
4. **securities-trading-web** - Web表示层
   - common-web: 公共Web模块
   - system-web: 系统管理Web模块
5. **securities-trading-boots** - 应用启动层
   - service-boot-allinone: 服务单体启动器
   - web-boot-management: 管理员Web启动器
   - web-boot-investment: 投资者Web启动器

### ⏳ 待实现模块

1. **customer-web** - 客户管理Web界面
2. **funding-web** - 资金管理Web界面
3. **securities-web** - 证券管理Web界面
4. **settlement-core/web** - 清算核心实现和Web界面
5. **trading-engine-core/web** - 交易引擎核心实现和Web界面

## 架构特色

### 已实现的关键设计模式

1. **事件驱动架构**: 使用Axon Framework实现，通过领域事件解耦各模块
2. **CQRS模式**: 命令查询责任分离，优化读写性能
3. **领域驱动设计(DDD)**: 按业务领域划分模块，明确的领域边界
4. **微服务架构**: 按业务域垂直拆分，服务独立部署和扩展
5. **多层架构设计**: 清晰的分层结构，职责分明
6. **SPI模式**: 支持中间件的灵活替换

### 技术选型亮点

1. **Spring Boot 3.5.8**: 最新稳定版本，提供强大的自动配置
2. **Axon Framework 4.12.2**: 业界领先的事件驱动框架
3. **统一响应格式**: 采用`Result`类型统一API响应
4. **WebJars管理**: 通过WebJars统一管理前端资源版本
5. **Maven Wrapper**: 确保所有开发者使用相同的构建环境