<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>页头栏</title>
</head>
<body>
<header th:fragment="header" class="navbar navbar-dark sticky-top bg-primary flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">
        <i class="bi bi-graph-up-arrow me-2"></i>
        <span th:text="${systemName} != null ? ${systemName} : '交易管理系统'">交易管理系统</span>
        <span class="badge bg-secondary ms-2" th:text="${systemVersion} != null ? ${systemVersion} : 'v1.0.0'">v1.0.0</span>
    </a>
    
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="navbar-nav">
        <div class="nav-item text-nowrap">
            <!-- 用户信息 -->
            <span class="nav-link" th:if="${currentUser}">
                <i class="bi bi-person-circle me-2"></i>
                <!-- 简单处理：默认当作字符串显示 -->
                <span th:text="${currentUser}">用户名</span>
            </span>
            <span class="nav-link" th:if="${currentUser == null}">
                <i class="bi bi-person-circle me-2"></i>
                访客
            </span>
        </div>
        
        <!-- 登出按钮 -->
        <div class="nav-item text-nowrap">
            <a class="nav-link" href="/logout">
                <i class="bi bi-box-arrow-right"></i>
                登出
            </a>
        </div>
    </div>
</header>
</body>
</html>