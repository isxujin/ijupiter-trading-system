# iJupiter è¯åˆ¸äº¤æ˜“ç³»ç»Ÿ

[![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)
[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.8-green.svg)]
[![Axon Framework](https://img.shields.io/badge/Axon%20Framework-4.12.2-blue.svg)]

## é¡¹ç›®ç®€ä»‹

iJupiter è¯åˆ¸äº¤æ˜“ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºäº‹ä»¶å¼•æ“æ¶æ„çš„ç°ä»£åŒ–è¯åˆ¸äº¤æ˜“å¹³å°ï¼Œé‡‡ç”¨**DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰**å’Œ**CQRSï¼ˆå‘½ä»¤æŸ¥è¯¢è´£ä»»åˆ†ç¦»ï¼‰**æ¨¡å¼ï¼Œä½¿ç”¨**Spring Boot 3.5.8**å’Œ**Axon Framework 4.12.2**æ„å»ºã€‚ç³»ç»Ÿæ”¯æŒè¯åˆ¸ã€åŸºé‡‘ã€æœŸè´§ç­‰å¤šç§é‡‘èäº§å“çš„äº¤æ˜“ä¸šåŠ¡ã€‚

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                securities-trading-boots             â”‚  â† åº”ç”¨å¯åŠ¨å±‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  web-boot-xxx   â”‚  â”‚ service-boot-xxx â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                securities-trading-web               â”‚  â† Webè¡¨ç¤ºå±‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   common-web    â”‚  â”‚  domain-web     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                securities-trading-core              â”‚  â† æ ¸å¿ƒä¸šåŠ¡å±‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  domain-core    â”‚  â”‚  domain-core    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 securities-trading-api              â”‚  â† æ¥å£å®šä¹‰å±‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  business-api   â”‚  â”‚ middleware-spi  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            securities-trading-middleware            â”‚  â† ä¸­é—´ä»¶å±‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ rabbitmq-adapterâ”‚  â”‚  redis-adapter  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              securities-trading-common               â”‚  â† å…¬å…±åŸºç¡€å±‚
â”‚         (Entities, DTOs, Utils, Constants)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              securities-trading-boms                â”‚  â† ä¾èµ–ç®¡ç†å±‚
â”‚                (Maven BOMç»Ÿä¸€ç‰ˆæœ¬)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ¶æ„ç‰¹ç‚¹

- **äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼šä½¿ç”¨Axon Frameworkå®ç°äº‹ä»¶æº¯æºå’ŒCQRSï¼Œæ”¯æŒåˆ†å¸ƒå¼äº‹ä»¶å¤„ç†
- **å¾®æœåŠ¡æ¶æ„**ï¼šæŒ‰ä¸šåŠ¡åŸŸå‚ç›´æ‹†åˆ†ï¼ŒæœåŠ¡ç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•
- **é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)**ï¼šæŒ‰ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†æ¨¡å—ï¼Œæ˜ç¡®çš„é¢†åŸŸè¾¹ç•Œ
- **å¤šå±‚æ¶æ„è®¾è®¡**ï¼šæ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼ŒèŒè´£åˆ†æ˜
- **SPIæ¨¡å¼**ï¼šæ”¯æŒä¸­é—´ä»¶çš„çµæ´»æ›¿æ¢

## æ¨¡å—è¯¦è¿°

### 1. securities-trading-bomsï¼ˆä¾èµ–ç‰ˆæœ¬ç®¡ç†ï¼‰

**èŒè´£**ï¼šç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ¨¡å—çš„ä¾èµ–ç‰ˆæœ¬ï¼Œç¡®ä¿ç‰ˆæœ¬å…¼å®¹æ€§

**æ ¸å¿ƒæŠ€æœ¯æ ˆ**ï¼š
- Spring Boot: 3.5.8
- Axon Framework: 4.12.2
- Spring Cloud: 2023.0.5
- MySQL Connector: 9.5.0
- Lombok: 1.18.42
- Hutool: 5.8.42
- WebJars: Bootstrap 5.3.8, jQuery 3.7.1

### 2. securities-trading-commonï¼ˆå…¬å…±åŸºç¡€ç»„ä»¶ï¼‰

**èŒè´£**ï¼šæä¾›å…¬å…±å·¥å…·ç±»ã€å¸¸é‡å’ŒåŸºç¡€ç»„ä»¶

**æ ¸å¿ƒç»„ä»¶**ï¼š
- **BaseEntity**ï¼šå®ä½“åŸºç±»ï¼Œæä¾›ç»Ÿä¸€çš„å®¡è®¡å­—æ®µ
- **BaseDTO**ï¼šDTOåŸºç±»ï¼Œæä¾›å¯¹è±¡è½¬æ¢åŠŸèƒ½
- **BaseService**ï¼šæœåŠ¡åŸºç±»æ¥å£
- **å¼‚å¸¸ä½“ç³»**ï¼šå®Œæ•´çš„å¼‚å¸¸å¤„ç†ä½“ç³»
- **å·¥å…·ç±»**ï¼šæ—¥æœŸã€å­—ç¬¦ä¸²ã€åŠ å¯†ç­‰å·¥å…·
- **æšä¸¾ç±»**ï¼šç³»ç»ŸçŠ¶æ€ã€åˆ é™¤çŠ¶æ€ç­‰

### 3. securities-trading-apiï¼ˆæ¥å£å®šä¹‰å±‚ï¼‰

#### 3.1 business-apiï¼ˆä¸šåŠ¡APIï¼‰

**èŒè´£**ï¼šå®šä¹‰å„ä¸šåŠ¡åŸŸçš„æ¥å£å¥‘çº¦

**å·²å®ç°æ¨¡å—**ï¼š
- **system-api**ï¼šç³»ç»Ÿç®¡ç†API
  - UserDTOã€RoleDTOã€PermissionDTOç­‰
  - UserServiceã€RoleServiceã€PermissionServiceç­‰æ¥å£

- **customer-api**ï¼šå®¢æˆ·ç®¡ç†API
  - CustomerDTOã€CustomerTypeã€CustomerStatusç­‰
  - CustomerServiceæ¥å£åŠç›¸å…³æšä¸¾

- **funding-api**ï¼šèµ„é‡‘ç®¡ç†API
  - FundingAccountDTOã€FundingTransactionDTOã€FundingTransferDTOç­‰
  - FundingServiceæ¥å£åŠç›¸å…³æšä¸¾

- **securities-api**ï¼šè¯åˆ¸ç®¡ç†API
  - SecuritiesAccountDTOã€SecuritiesPositionDTOã€SecuritiesTransactionDTOç­‰
  - SecuritiesServiceæ¥å£åŠç›¸å…³æšä¸¾

- **settlement-api**ï¼šæ¸…ç®—API
  - SettlementDTOã€SettlementStatisticsç­‰
  - SettlementServiceæ¥å£

- **trading-engine-api**ï¼šäº¤æ˜“å¼•æ“API
  - TradingEngineDTOã€TradingOrderDTOç­‰
  - TradingEngineServiceæ¥å£

- **query-api**ï¼šæŸ¥è¯¢API
  - å®¢æˆ·ç»¼åˆä¿¡æ¯æŸ¥è¯¢DTOå’ŒQueryå¯¹è±¡
  - å®¢æˆ·äº¤æ˜“æµæ°´æŸ¥è¯¢DTOå’ŒQueryå¯¹è±¡
  - å®¢æˆ·èµ„é‡‘æµæ°´æŸ¥è¯¢DTOå’ŒQueryå¯¹è±¡
  - å®¢æˆ·èµ„é‡‘ä½™é¢æŸ¥è¯¢DTOå’ŒQueryå¯¹è±¡
  - å®¢æˆ·è¯åˆ¸æŒä»“æŸ¥è¯¢DTOå’ŒQueryå¯¹è±¡
  - å®¢æˆ·æ¯æ—¥è¯åˆ¸æ”¶ç›ŠæŸ¥è¯¢DTOå’ŒQueryå¯¹è±¡
  - QueryServiceæ¥å£

#### 3.2 middleware-spiï¼ˆä¸­é—´ä»¶SPIï¼‰

**èŒè´£**ï¼šå®šä¹‰ä¸­é—´ä»¶å®ç°çš„æ ‡å‡†æ¥å£

- **cache-adapter-spi**ï¼šç¼“å­˜é€‚é…å™¨SPI
  - CacheAdapterServiceï¼šå®Œæ•´çš„ç¼“å­˜æœåŠ¡æ¥å£
- **message-adapter-spi**ï¼šæ¶ˆæ¯é€‚é…å™¨SPI
  - MessageAdapterServiceï¼šæ¶ˆæ¯æœåŠ¡æ¥å£

### 4. securities-trading-coreï¼ˆæ ¸å¿ƒä¸šåŠ¡å®ç°å±‚ï¼‰

#### 4.1 system-coreï¼ˆç³»ç»Ÿç®¡ç†æ ¸å¿ƒï¼‰- **å·²å®ç°**

**èŒè´£**ï¼šç³»ç»Ÿç®¡ç†åŠŸèƒ½ï¼Œé‡‡ç”¨ä¼ ç»ŸMVCæ¶æ„

**å®ä½“å±‚**ï¼šUserã€Roleã€Permissionã€Dictionaryã€Parameterç­‰
**ä»“å‚¨å±‚**ï¼šæä¾›å®Œæ•´çš„JPA Repositoryæ¥å£
**æœåŠ¡å±‚**ï¼šå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘å®ç°

#### 4.2 customer-coreï¼ˆå®¢æˆ·ç®¡ç†æ ¸å¿ƒï¼‰- **å·²å®ç°**

**èŒè´£**ï¼šå®¢æˆ·ç®¡ç†åŠŸèƒ½ï¼Œé‡‡ç”¨DDDå’ŒCQRSæ¶æ„

**å·²å®ç°åŠŸèƒ½**ï¼š
- å®¢æˆ·èšåˆæ ¹ï¼ˆCustomerï¼‰åŠäº‹ä»¶å¤„ç†
- å®¢æˆ·å‘½ä»¤å¤„ç†å™¨å’Œäº‹ä»¶å¤„ç†å™¨
- å®¢æˆ·é¢†åŸŸæœåŠ¡å’Œä»“å‚¨æ¥å£
- å®¢æˆ·å®ä½“å’Œæšä¸¾å®šä¹‰

#### 4.3 funding-coreï¼ˆèµ„é‡‘ç®¡ç†æ ¸å¿ƒï¼‰- **å·²å®ç°**

**èŒè´£**ï¼šèµ„é‡‘ç®¡ç†åŠŸèƒ½ï¼Œé‡‡ç”¨DDDå’ŒCQRSæ¶æ„

**å·²å®ç°åŠŸèƒ½**ï¼š
- èµ„é‡‘è´¦æˆ·èšåˆæ ¹ï¼ˆFundingAccountï¼‰åŠäº‹ä»¶å¤„ç†
- èµ„é‡‘è´¦æˆ·å®ä½“ã€å°è´¦å’Œäº¤æ˜“è®°å½•å®ä½“
- èµ„é‡‘å‘½ä»¤å¤„ç†å™¨å’Œäº‹ä»¶å¤„ç†å™¨
- èµ„é‡‘é¢†åŸŸæœåŠ¡å’Œä»“å‚¨æ¥å£

#### 4.4 securities-coreï¼ˆè¯åˆ¸ç®¡ç†æ ¸å¿ƒï¼‰- **å·²å®ç°**

**èŒè´£**ï¼šè¯åˆ¸ç®¡ç†åŠŸèƒ½ï¼Œé‡‡ç”¨DDDå’ŒCQRSæ¶æ„

**å·²å®ç°åŠŸèƒ½**ï¼š
- è¯åˆ¸è´¦æˆ·èšåˆæ ¹ï¼ˆSecuritiesAccountï¼‰åŠäº‹ä»¶å¤„ç†
- è¯åˆ¸è´¦æˆ·ã€æŒä»“å’Œäº¤æ˜“è®°å½•å®ä½“
- è¯åˆ¸å‘½ä»¤å¤„ç†å™¨å’Œäº‹ä»¶å¤„ç†å™¨
- è¯åˆ¸é¢†åŸŸæœåŠ¡å’Œä»“å‚¨æ¥å£

#### 4.5 query-coreï¼ˆé€šç”¨æŸ¥è¯¢æ ¸å¿ƒï¼‰- **å·²å®ç°**

**èŒè´£**ï¼šå®ç°CQRSä¸­çš„æŸ¥è¯¢éƒ¨åˆ†ï¼Œæä¾›å¯¹å®¢æˆ·ç»¼åˆä¿¡æ¯çš„æŸ¥è¯¢åŠŸèƒ½

**å·²å®ç°åŠŸèƒ½**ï¼š
- å®¢æˆ·ç»¼åˆä¿¡æ¯æŸ¥è¯¢å¤„ç†å™¨
- å®¢æˆ·äº¤æ˜“æµæ°´æŸ¥è¯¢å¤„ç†å™¨
- å®¢æˆ·èµ„é‡‘æµæ°´æŸ¥è¯¢å¤„ç†å™¨
- å®¢æˆ·èµ„é‡‘è´¦æˆ·ä½™é¢æŸ¥è¯¢å¤„ç†å™¨
- å®¢æˆ·è¯åˆ¸æŒä»“ä¿¡æ¯æŸ¥è¯¢å¤„ç†å™¨
- å®¢æˆ·æ¯æ—¥è¯åˆ¸æ”¶ç›Šä¿¡æ¯æŸ¥è¯¢å¤„ç†å™¨
- å®ä½“æ˜ å°„å™¨ï¼ˆEntityMapperï¼‰
- æŸ¥è¯¢é…ç½®ï¼ˆQueryConfigï¼‰

#### 4.6 settlement-coreï¼ˆæ¸…ç®—æ ¸å¿ƒï¼‰- **APIå·²è®¾è®¡ï¼Œå¾…å®ç°**

**èŒè´£**ï¼šäº¤æ˜“æ¸…ç®—å’Œç»“ç®—åŠŸèƒ½

#### 4.7 trading-engine-coreï¼ˆäº¤æ˜“å¼•æ“æ ¸å¿ƒï¼‰- **APIå·²è®¾è®¡ï¼Œå¾…å®ç°**

**èŒè´£**ï¼šæ ¸å¿ƒäº¤æ˜“æ’®åˆå¼•æ“

### 5. securities-trading-middlewareï¼ˆä¸­é—´ä»¶é€‚é…å™¨å±‚ï¼‰

#### 5.1 redis-adapter - **å·²å®ç°**

**èŒè´£**ï¼šRedisç¼“å­˜é€‚é…å™¨
- **RedisCacheAdapter**ï¼šå®Œæ•´å®ç°CacheAdapterService SPI
- æ”¯æŒåŸºæœ¬çš„CRUDæ“ä½œã€æ‰¹é‡æ“ä½œã€è¶…æ—¶è®¾ç½®ç­‰

#### 5.2 rabbitmq-adapter - **å·²å®ç°**

**èŒè´£**ï¼šRabbitMQæ¶ˆæ¯é€‚é…å™¨
- **RabbitMQMessageAdapter**ï¼šæ¶ˆæ¯é€‚é…å™¨å®ç°
- æ”¯æŒæ¶ˆæ¯è·¯ç”±å’Œåˆ†å‘

### 6. securities-trading-webï¼ˆWebè¡¨ç¤ºå±‚ï¼‰

#### 6.1 common-web - **å·²å®ç°**

**èŒè´£**ï¼šå…¬å…±Webæ¨¡å—ï¼Œæä¾›è§†å›¾å±‚æ¡†æ¶èµ„æº

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- Spring MVCå’ŒThymeleafé…ç½®
- WebJarsèµ„æºç®¡ç†
- BaseControllerï¼šç»Ÿä¸€æ¨¡å‹å±æ€§
- ç»Ÿä¸€APIå“åº”æ ¼å¼
- é”™è¯¯å¤„ç†æœºåˆ¶

#### 6.2 domain-webæ¨¡å—

**å·²å®ç°**ï¼š
- **system-web**ï¼šç³»ç»Ÿç®¡ç†Webæ¨¡å—
  - ç”¨æˆ·ã€è§’è‰²ã€æƒé™ã€å­—å…¸ã€å‚æ•°ç®¡ç†æ§åˆ¶å™¨

- **query-web**ï¼šæŸ¥è¯¢æœåŠ¡Webæ¨¡å—
  - å®¢æˆ·ç»¼åˆä¿¡æ¯æŸ¥è¯¢API
  - å®¢æˆ·äº¤æ˜“æµæ°´æŸ¥è¯¢API
  - å®¢æˆ·èµ„é‡‘æµæ°´æŸ¥è¯¢API
  - å®¢æˆ·èµ„é‡‘è´¦æˆ·ä½™é¢æŸ¥è¯¢API
  - å®¢æˆ·è¯åˆ¸æŒä»“ä¿¡æ¯æŸ¥è¯¢API
  - å®¢æˆ·æ¯æ—¥è¯åˆ¸æ”¶ç›Šä¿¡æ¯æŸ¥è¯¢API

**å¾…å®ç°**ï¼š
- **customer-web**ã€**funding-web**ã€**securities-web**ç­‰æ¨¡å—

### 7. securities-trading-bootsï¼ˆåº”ç”¨å¯åŠ¨å±‚ï¼‰

#### 7.1 service-boot-allinone - **å·²å®ç°**

**èŒè´£**ï¼šæœåŠ¡å•ä½“å¯åŠ¨å™¨
- Axonäº‹ä»¶å¼•æ“é…ç½®
- æ¶ˆæ¯å’ŒæŸ¥è¯¢æ¨¡å—é…ç½®
- å®Œæ•´çš„äº‹ä»¶å­˜å‚¨å’ŒTokenStoreé…ç½®

#### 7.2 web-boot-management - **å·²å®ç°**

**èŒè´£**ï¼šç®¡ç†å‘˜Webå¯åŠ¨å™¨
- Spring Securityå®‰å…¨é…ç½®
- è‡ªå®šä¹‰è®¤è¯æœºåˆ¶

#### 7.3 web-boot-investment - **å·²å®ç°**

**èŒè´£**ï¼šæŠ•èµ„è€…Webå¯åŠ¨å™¨
- æŠ•èµ„è€…ä¸“å±åŠŸèƒ½å’Œç•Œé¢

#### 7.4 query-boot - **å·²å®ç°**

**èŒè´£**ï¼šæŸ¥è¯¢æœåŠ¡å¯åŠ¨å™¨
- æŸ¥è¯¢æœåŠ¡Webæ§åˆ¶å™¨è‡ªåŠ¨é…ç½®
- Feignå®¢æˆ·ç«¯æ”¯æŒ
- ç‹¬ç«‹çš„æŸ¥è¯¢æœåŠ¡éƒ¨ç½²èƒ½åŠ›

## æŠ€æœ¯æ ˆè¯¦æƒ…

### åç«¯æŠ€æœ¯
- **Java 17**ï¼šä¸»è¦ç¼–ç¨‹è¯­è¨€
- **Spring Boot 3.5.8**ï¼šåº”ç”¨æ¡†æ¶
- **Spring Security 6.5.7**ï¼šå®‰å…¨æ¡†æ¶
- **Axon Framework 4.12.2**ï¼šäº‹ä»¶é©±åŠ¨æ¡†æ¶
- **Spring Cloud 2023.0.5**ï¼šå¾®æœåŠ¡æ¡†æ¶
- **Spring Data JPA**ï¼šæ•°æ®è®¿é—®å±‚
- **Hibernate**ï¼šORMæ¡†æ¶
- **MySQL 9.5.0**ï¼šä¸»æ•°æ®åº“

### ä¸­é—´ä»¶æŠ€æœ¯
- **Redis 7**ï¼šç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **RabbitMQ 5.20.0**ï¼šæ¶ˆæ¯é˜Ÿåˆ—
- **HikariCP**ï¼šæ•°æ®åº“è¿æ¥æ± 

### å‰ç«¯æŠ€æœ¯
- **Thymeleaf**ï¼šæ¨¡æ¿å¼•æ“
- **Bootstrap 5.3.8**ï¼šUIæ¡†æ¶
- **jQuery 3.7.1**ï¼šJavaScriptåº“
- **Chart.js**ï¼šå›¾è¡¨åº“

### å¼€å‘å·¥å…·
- **Maven**ï¼šæ„å»ºå·¥å…·
- **Lombok**ï¼šä»£ç ç®€åŒ–
- **Hutool**ï¼šå·¥å…·åº“
- **WebJars**ï¼šå‰ç«¯èµ„æºç®¡ç†

## ç¯å¢ƒè¦æ±‚

- **JDK**ï¼š17æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**ï¼š3.8æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**ï¼š8.0æˆ–æ›´é«˜ç‰ˆæœ¬
- **Redis**ï¼š7.0æˆ–æ›´é«˜ç‰ˆæœ¬
- **RabbitMQ**ï¼š3.9æˆ–æ›´é«˜ç‰ˆæœ¬

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-org/ijupiter-trading-system.git
cd ijupiter-trading-system
```

### 2. æ„å»ºé¡¹ç›®
```bash
# ä½¿ç”¨Maven Wrapper
./mvnw clean install

# æˆ–ä½¿ç”¨ç³»ç»ŸMaven
mvn clean install
```

### 3. å¯åŠ¨æœåŠ¡å•ä½“åº”ç”¨
```bash
cd securities-trading-boots/service-boot-allinone
./mvnw spring-boot:run
```

### 4. å¯åŠ¨Webç®¡ç†åº”ç”¨
```bash
cd securities-trading-boots/web-boot-management
./mvnw spring-boot:run
```

### 5. å¯åŠ¨WebæŠ•èµ„è€…åº”ç”¨
```bash
cd securities-trading-boots/web-boot-investment
./mvnw spring-boot:run
```

### 6. å¯åŠ¨æŸ¥è¯¢æœåŠ¡åº”ç”¨
```bash
cd securities-trading-boots/query-boot
./mvnw spring-boot:run
```

## é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
```yaml
spring:
 datasource:
  url: jdbc:mysql://localhost:3306/ijupiter_trading?useUnicode=true&characterEncoding=utf8
  username: your-username
  password: your-password
  driver-class-name: com.mysql.cj.jdbc.Driver
  hikari:
    maximum-pool-size: 20
    minimum-idle: 5
```

### Redisé…ç½®
```yaml
spring:
 redis:
   host: localhost
   port: 6379
   password: your-redis-password
   timeout: 5000ms
   lettuce:
     pool:
       max-active: 20
       max-idle: 8
```

### RabbitMQé…ç½®
```yaml
spring:
 rabbitmq:
   host: localhost
   port: 5672
   username: your-rabbitmq-username
   password: your-rabbitmq-password
   virtual-host: /
```

## é¡¹ç›®ç»“æ„

```
ijupiter-trading-system/
â”œâ”€â”€ securities-trading-boms/          # Maven BOM - ä¾èµ–ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ securities-trading-common/         # å…¬å…±åŸºç¡€ç»„ä»¶
â”œâ”€â”€ securities-trading-api/            # æ¥å£å®šä¹‰å±‚
â”‚   â”œâ”€â”€ business-api/                # ä¸šåŠ¡APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ system-api/             # ç³»ç»Ÿç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ customer-api/            # å®¢æˆ·ç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ funding-api/             # èµ„é‡‘ç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ securities-api/           # è¯åˆ¸ç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ settlement-api/          # æ¸…ç®—API
â”‚   â”‚   â”œâ”€â”€ trading-engine-api/       # äº¤æ˜“å¼•æ“API
â”‚   â”‚   â””â”€â”€ query-api/              # æŸ¥è¯¢API
â”‚   â””â”€â”€ middleware-spi/             # ä¸­é—´ä»¶SPI
â”œâ”€â”€ securities-trading-core/            # æ ¸å¿ƒä¸šåŠ¡å®ç°å±‚
â”‚   â”œâ”€â”€ system-core/                # ç³»ç»Ÿç®¡ç†æ ¸å¿ƒ
â”‚   â”œâ”€â”€ customer-core/              # å®¢æˆ·ç®¡ç†æ ¸å¿ƒ
â”‚   â”œâ”€â”€ funding-core/               # èµ„é‡‘ç®¡ç†æ ¸å¿ƒ
â”‚   â”œâ”€â”€ securities-core/             # è¯åˆ¸ç®¡ç†æ ¸å¿ƒ
â”‚   â”œâ”€â”€ settlement-core/            # æ¸…ç®—æ ¸å¿ƒ
â”‚   â”œâ”€â”€ trading-engine-core/          # äº¤æ˜“å¼•æ“æ ¸å¿ƒ
â”‚   â””â”€â”€ query-core/                 # é€šç”¨æŸ¥è¯¢æ ¸å¿ƒ
â”œâ”€â”€ securities-trading-middleware/       # ä¸­é—´ä»¶é€‚é…å™¨å±‚
â”‚   â”œâ”€â”€ redis-adapter/             # Redisç¼“å­˜é€‚é…å™¨
â”‚   â””â”€â”€ rabbitmq-adapter/          # RabbitMQæ¶ˆæ¯é€‚é…å™¨
â”œâ”€â”€ securities-trading-web/            # Webè¡¨ç¤ºå±‚
â”‚   â”œâ”€â”€ common-web/               # å…¬å…±Webæ¨¡å—
â”‚   â””â”€â”€ domain-web/               # ä¸šåŠ¡Webæ¨¡å—
â”‚       â”œâ”€â”€ system-web/             # ç³»ç»Ÿç®¡ç†Web
â”‚       â””â”€â”€ query-web/              # æŸ¥è¯¢æœåŠ¡Web
â”œâ”€â”€ securities-trading-boots/          # åº”ç”¨å¯åŠ¨å±‚
â”‚   â”œâ”€â”€ service-boot-allinone/       # æœåŠ¡å•ä½“å¯åŠ¨å™¨
â”‚   â”œâ”€â”€ web-boot-management/         # ç®¡ç†ç«¯å¯åŠ¨å™¨
â”‚   â”œâ”€â”€ web-boot-investment/         # æŠ•èµ„ç«¯å¯åŠ¨å™¨
â”‚   â””â”€â”€ query-boot/                # æŸ¥è¯¢æœåŠ¡å¯åŠ¨å™¨
â””â”€â”€ pom.xml                          # ä¸»POMæ–‡ä»¶
```

## APIæ–‡æ¡£

### ç³»ç»Ÿç®¡ç†æ¨¡å—API

- **ç”¨æˆ·ç®¡ç†**ï¼š
  - GET `/system/user/list` - ç”¨æˆ·åˆ—è¡¨é¡µé¢
  - GET `/system/user/data` - è·å–ç”¨æˆ·æ•°æ®
  - POST `/system/user/save` - ä¿å­˜ç”¨æˆ·
  - PUT `/system/user/update/{id}` - æ›´æ–°ç”¨æˆ·
  - DELETE `/system/user/delete/{id}` - åˆ é™¤ç”¨æˆ·
  - PUT `/system/user/status/{id}` - æ›´æ–°ç”¨æˆ·çŠ¶æ€

- **è§’è‰²ç®¡ç†**ï¼š
  - GET `/system/role/list` - è§’è‰²åˆ—è¡¨é¡µé¢
  - GET `/system/role/data` - è·å–è§’è‰²æ•°æ®
  - POST `/system/role/save` - ä¿å­˜è§’è‰²
  - PUT `/system/role/update/{id}` - æ›´æ–°è§’è‰²
  - DELETE `/system/role/delete/{id}` - åˆ é™¤è§’è‰²

- **æƒé™ç®¡ç†**ï¼š
  - GET `/system/permission/list` - æƒé™åˆ—è¡¨é¡µé¢
  - GET `/system/permission/data` - è·å–æƒé™æ•°æ®
  - POST `/system/permission/save` - ä¿å­˜æƒé™
  - PUT `/system/permission/update/{id}` - æ›´æ–°æƒé™
  - DELETE `/system/permission/delete/{id}` - åˆ é™¤æƒé™

### æŸ¥è¯¢æœåŠ¡æ¨¡å—API

- **å®¢æˆ·ç»¼åˆä¿¡æ¯æŸ¥è¯¢**ï¼š
  - GET `/api/query/customer/financial-summary/{customerId}` - æŸ¥è¯¢å®¢æˆ·ç»¼åˆä¿¡æ¯

- **å®¢æˆ·äº¤æ˜“æµæ°´æŸ¥è¯¢**ï¼š
  - GET `/api/query/customer/transactions/{customerId}` - æŸ¥è¯¢å®¢æˆ·äº¤æ˜“æµæ°´
  - å‚æ•°ï¼šsecurityCode, transactionType, status, market, startTime, endTime, page, size

- **å®¢æˆ·èµ„é‡‘æµæ°´æŸ¥è¯¢**ï¼š
  - GET `/api/query/customer/funding-transactions/{customerId}` - æŸ¥è¯¢å®¢æˆ·èµ„é‡‘æµæ°´
  - å‚æ•°ï¼šaccountId, transactionType, status, startTime, endTime, page, size

- **å®¢æˆ·èµ„é‡‘è´¦æˆ·ä½™é¢æŸ¥è¯¢**ï¼š
  - GET `/api/query/customer/funding-balance/{customerId}` - æŸ¥è¯¢å®¢æˆ·èµ„é‡‘è´¦æˆ·ä½™é¢
  - å‚æ•°ï¼šaccountId, accountType, status, referenceDate

- **å®¢æˆ·è¯åˆ¸æŒä»“ä¿¡æ¯æŸ¥è¯¢**ï¼š
  - GET `/api/query/customer/securities-positions/{customerId}` - æŸ¥è¯¢å®¢æˆ·è¯åˆ¸æŒä»“ä¿¡æ¯
  - å‚æ•°ï¼šsecurityCode, securityType, page, size

- **å®¢æˆ·æ¯æ—¥è¯åˆ¸æ”¶ç›Šä¿¡æ¯æŸ¥è¯¢**ï¼š
  - GET `/api/query/customer/daily-securities-profit/{customerId}` - æŸ¥è¯¢å®¢æˆ·æ¯æ—¥è¯åˆ¸æ”¶ç›Šä¿¡æ¯
  - å‚æ•°ï¼šsecurityCode, startDate, endDate, page, size

- **å®¢æˆ·ç»¼åˆä¿¡æ¯è®¢é˜…**ï¼š
  - GET `/api/query/customer/financial-summary/{customerId}/subscribe` - è®¢é˜…å®¢æˆ·ç»¼åˆä¿¡æ¯å˜åŒ–

## å®ç°çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½

1. **å®Œæ•´çš„ç³»ç»Ÿç®¡ç†æ¨¡å—**ï¼ˆç”¨æˆ·ã€è§’è‰²ã€æƒé™ã€å­—å…¸ã€å‚æ•°ç®¡ç†ï¼‰
2. **å®Œæ•´çš„å®¢æˆ·ç®¡ç†æ ¸å¿ƒæ¨¡å—**ï¼ˆèšåˆã€å‘½ä»¤å¤„ç†å™¨ã€äº‹ä»¶å¤„ç†å™¨ã€é¢†åŸŸæœåŠ¡ï¼‰
3. **å®Œæ•´çš„èµ„é‡‘ç®¡ç†æ ¸å¿ƒæ¨¡å—**ï¼ˆèšåˆã€å‘½ä»¤å¤„ç†å™¨ã€äº‹ä»¶å¤„ç†å™¨ã€é¢†åŸŸæœåŠ¡ï¼‰
4. **å®Œæ•´çš„è¯åˆ¸ç®¡ç†æ ¸å¿ƒæ¨¡å—**ï¼ˆèšåˆã€å‘½ä»¤å¤„ç†å™¨ã€äº‹ä»¶å¤„ç†å™¨ã€é¢†åŸŸæœåŠ¡ï¼‰
5. **å®Œæ•´çš„æŸ¥è¯¢æ ¸å¿ƒæ¨¡å—**ï¼ˆå¤šåœºæ™¯æŸ¥è¯¢å¤„ç†å™¨ã€å®ä½“æ˜ å°„å™¨ã€æŸ¥è¯¢é…ç½®ï¼‰
6. **æŸ¥è¯¢æœåŠ¡Webæ¨¡å—**ï¼ˆå®Œæ•´çš„æŸ¥è¯¢APIæ§åˆ¶å™¨ï¼‰
7. **ä¸­é—´ä»¶é€‚é…å™¨**ï¼ˆRedisç¼“å­˜ã€RabbitMQæ¶ˆæ¯ï¼‰
8. **Webå…¬å…±åŸºç¡€æ¡†æ¶**
9. **åº”ç”¨å¯åŠ¨å™¨**ï¼ˆæœåŠ¡å•ä½“ã€ç®¡ç†ç«¯ã€æŠ•èµ„è€…ç«¯ã€æŸ¥è¯¢æœåŠ¡ï¼‰
10. **Maven Wrapperé›†æˆ**å’Œä¾èµ–ç‰ˆæœ¬ç®¡ç†
11. **ç»Ÿä¸€å¼‚å¸¸å¤„ç†**å’ŒAPIå“åº”æ ¼å¼
12. **Spring Cloudé›†æˆ**ï¼ˆFeignå®¢æˆ·ç«¯æ”¯æŒï¼‰

### â³ éƒ¨åˆ†å®ç°åŠŸèƒ½

1. **æ¸…ç®—æ ¸å¿ƒæ¨¡å—**ï¼ˆåŸºç¡€æ¶æ„å·²è®¾è®¡ï¼‰
2. **äº¤æ˜“å¼•æ“æ ¸å¿ƒæ¨¡å—**ï¼ˆåŸºç¡€æ¶æ„å·²è®¾è®¡ï¼‰

### ğŸ“‹ å¾…å®ç°åŠŸèƒ½

1. **å®¢æˆ·ç®¡ç†Webç•Œé¢**
2. **èµ„é‡‘ç®¡ç†Webç•Œé¢**
3. **è¯åˆ¸ç®¡ç†Webç•Œé¢**
4. **æ¸…ç®—Webç•Œé¢**
5. **äº¤æ˜“å¼•æ“Webç•Œé¢**

## éƒ¨ç½²è¯´æ˜

### Dockeréƒ¨ç½²

1. **æ„å»ºé•œåƒ**
```bash
mvn clean install
docker build -t ijupiter-trading:latest .
```

2. **Docker Composeéƒ¨ç½²**
```bash
docker-compose up -d
```

3. **Kuberneteséƒ¨ç½²**
```bash
kubectl apply -f k8s/
```

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- éµå¾ªã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹è§„èŒƒ
- ä½¿ç”¨Lombokç®€åŒ–æ ·æ¿ä»£ç 
- ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- è§„èŒƒåŒ–çš„APIå“åº”æ ¼å¼

### æµ‹è¯•
- å•å…ƒæµ‹è¯•ï¼šä½¿ç”¨JUnit 5 + Mockito
- é›†æˆæµ‹è¯•ï¼šä½¿ç”¨Spring Test + TestContainers
- æµ‹è¯•è¦†ç›–ç‡è¦æ±‚ï¼šä¸ä½äº70%

### æäº¤è§„èŒƒ
- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤bug
- docs: æ–‡æ¡£æ›´æ–°
- style: ä»£ç æ ¼å¼è°ƒæ•´
- refactor: ä»£ç é‡æ„
- test: æµ‹è¯•ç›¸å…³

## è´¡çŒ®æŒ‡å—

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…ï¼š[iJupiterå›¢é˜Ÿ]
- é‚®ç®±ï¼šsupport@ijupiter-trading.com
- å®˜æ–¹ç½‘ç«™ï¼šhttps://www.ijupiter-trading.com

## æ›´æ–°æ—¥å¿—

### v1.0.1-SNAPSHOT (å½“å‰ç‰ˆæœ¬)
- å®Œæˆç³»ç»Ÿç®¡ç†æ¨¡å—åŸºç¡€åŠŸèƒ½
- å®ç°Redisç¼“å­˜å’ŒRabbitMQæ¶ˆæ¯ä¸­é—´ä»¶
- å»ºç«‹Webå…¬å…±æ¡†æ¶
- å®ŒæˆæœåŠ¡å¯åŠ¨å™¨å’Œç®¡ç†ç«¯ã€æŠ•é¡¾ç«¯åº”ç”¨
- å®ç°å®Œæ•´çš„å®¢æˆ·ç®¡ç†æ ¸å¿ƒæ¨¡å—
- å®ç°å®Œæ•´çš„èµ„é‡‘ç®¡ç†æ ¸å¿ƒæ¨¡å—
- å®ç°å®Œæ•´çš„è¯åˆ¸ç®¡ç†æ ¸å¿ƒæ¨¡å—
- å®ç°å®Œæ•´çš„æŸ¥è¯¢æ ¸å¿ƒæ¨¡å—
- å®ç°æŸ¥è¯¢æœåŠ¡Webæ¨¡å—
- æ·»åŠ Spring Cloudé›†æˆæ”¯æŒ
- ä¿®å¤Beanå®šä¹‰å†²çªé—®é¢˜
- ä¿®å¤ç±»å‹è½¬æ¢å’Œæ—¥æœŸå¤„ç†é—®é¢˜

---

**æ³¨æ„**ï¼šæœ¬ç³»ç»Ÿç›®å‰å¤„äºå¼€å‘é˜¶æ®µï¼Œéƒ¨åˆ†ä¸šåŠ¡æ¨¡å—çš„Webç•Œé¢å°šæœªå®ç°ã€‚è¯·å‚è€ƒå®ç°çŠ¶æ€äº†è§£å½“å‰è¿›åº¦ã€‚